(()=>{"use strict";const e={recommendation:{plantImage:"",plantName:"",soilImage:"",soilType:"",potImage:"",potMaterial:"",potDecoration:"",potColor:"",extras:[]},withLight(e){const t={indirect:{plant:"fern",plantName:"Fern"},lot_of_indirect:{plant:"peace-lily",plantName:"Peace Lily"},outside:{plant:"cactus",plantName:"Cactus"}}[e];return t&&(this.recommendation.plantImage=t.plant,this.recommendation.plantName=t.plantName),console.log(this.recommendation.plantImage),this},withSunlight(e){const t={direct:{soil:"soil-composted",soilType:"Composted Soil"},indirect:{soil:"soil-fertilized",soilType:"Fertilized Soil"}}[e];return t&&(this.recommendation.soilImage=t.soil,this.recommendation.soilType=t.soilType),console.log(this.recommendation.soilImage),this},withPets(e){const t={yes_pets:{plant:"fern",plantName:"Fern"},no_pets:{plant:"cactus",plantName:"Cactus"}}[e];return t&&(this.recommendation.plantImage=t.plant,this.recommendation.plantName=t.plantName),console.log(e),this},withWatering(e){const t={overwater:{potImage:"simple-clay-pot",potMaterial:"Clay Pot"},underwater:{potImage:"simple-ceramic-pot",potMaterial:"Ceramic Pot"},neither:{potImage:"simple-ceramic-pot",potMaterial:"Ceramic Pot"}}[e];return t&&(this.recommendation.potImage=t.potImage,this.recommendation.potMaterial=t.potMaterial),console.log(e),this},withPot(e){const t={clay:{potMaterial:"Clay Pot"},ceramic:{potMaterial:"Ceramic Pot"}}[e];return t&&(this.recommendation.potMaterial=t.potMaterial),this},withStyle(e){const t={minimalism:{potDecoration:"",potColor:"clay"},decoration:{potDecoration:"-Decorated",potColor:"clay"},bright:{potDecoration:"-Decorated",potColor:"blue"}}[e];return t&&(this.recommendation.potDecoration=t.potDecoration,this.recommendation.potColor=t.potColor),console.log(e),this},withElements(e){return e.includes("moss")&&this.recommendation.extras.push("Moss-Pole"),e.includes("pebbles")&&this.recommendation.extras.push("Pebbles"),e.includes("plants")&&this.recommendation.extras.push("Mini-Plants"),this},withPotStyle(e){return this.recommendation.potStyle=e,this},withPlantStyle(e){return this.recommendation.plantStyle=e,this},withSoilType(e){return this.recommendation.soilType=e,this},withExtras(e){return this.recommendation.extras=e,this},build(){const e=this.recommendation,t=JSON.stringify(this.recommendation);return localStorage.setItem("localPlant",t),console.log(this.recommendation),{render(){const t=document.createElement("div");t.classList.add("images-container");const o=document.createElement("img");o.src=`./Assets/plant-${e.plantImage}.png`,o.alt=e.plantName;const n=document.createElement("img");n.src=`./Assets/${e.potImage}${e.potDecoration}.png`,n.alt="Pot Image";const a=document.createElement("img");a.src=`./Assets/${e.soilImage}.png`,a.alt="Soil Image";const i=document.createElement("img");i.src=`./Assets/${e.extras}.png`,i.alt="Extras",t.appendChild(a),t.appendChild(o),t.appendChild(n),t.appendChild(i);const s=document.createElement("div");s.classList.add("plant-card"),s.appendChild(t);const r=document.createElement("div");return r.classList.add("additional-info"),r.innerHTML=`\n          <p><strong>Plant:</strong> ${e.plantName}</p>\n          <p><strong>Pot Material:</strong> ${e.potMaterial}</p>\n          <p><strong>Pot Color:</strong> ${e.potColor}</p>\n          <p><strong>Soil Type:</strong> ${e.soilType}</p>\n          <p><strong>Extras:</strong> ${e.extras.join(", ")}</p>\n        `,s.appendChild(r),localStorage.setItem("plantRecommendation",JSON.stringify(s)),s}}}},t=document.getElementById("customization-form"),o=document.getElementById("pot-decorations-toggle"),n=document.querySelectorAll('input[name="pot"]'),a=document.getElementById("pot-color-toggle"),i=document.getElementById("pot-color-options-list"),s=document.getElementById("plant"),r=document.getElementById("plant-preview"),l=document.getElementById("order-info"),c=document.getElementById("image-container"),m=JSON.parse(localStorage.getItem("localPlant")),p=new class{constructor(){this.observers=[]}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){for(const t of this.observers)t.update(e)}},d=new class{constructor(e){this.callback=e}update(e){this.callback(e)}}((e=>{console.log("Data has been updated!",e)}));p.addObserver(d),a.addEventListener("change",(function(){a.checked?i.style.display="block":i.style.display="none"}));const h=document.getElementById("check-store-button");h.addEventListener("click",(()=>{window.location.href="product.html"})),t.addEventListener("submit",(function(t){t.preventDefault();const n=document.querySelector('input[name="pot"]:checked').value,i=o.checked?"Yes":"No",c=a.checked?document.querySelector('input[name="pot-color"]:checked').value:"No",m=s.value,p=document.querySelector('input[name="soil"]:checked').value,d=Array.from(document.querySelectorAll('input[name="extras"]:checked')).map((e=>e.value)),h=e.withPot(n).withPotDecorations(i).withPotColor(c).withPlant(m).withSoil(p).withExtras(d).build();r.innerHTML="";const u=h.render();r.appendChild(u),l.innerHTML="";const g=h.getOrderInfo();l.appendChild(g)}));const u=document.createElement("img");u.alt=m.plantName,c.appendChild(u);const g=document.createElement("img");g.alt="Pot Image",c.appendChild(g);const y=document.createElement("img");y.alt="Soil Image",c.appendChild(y);const E=document.createElement("img");E.alt="Extras Image",c.appendChild(E);let v=m.potImage;n.forEach((e=>{e.addEventListener("change",(e=>{const t=e.target.value;v=t,C()}))}));const I=document.querySelectorAll('input[name="soil"]');let S=m.soilImage;function C(){const e=o.checked?"Yes":"No",t=(a.checked,s.value),n=v,i=S,r=a.checked?document.querySelector('input[name="pot-color"]:checked').value:"unpainted",l=Array.from(document.querySelectorAll('input[name="extras"]:checked')).map((e=>e.value)),c=l.length>0?l[0]:"",m={plant:t,pot:`${"Yes"===e?"decorated":"simple"}-${n}-${r}`,soil:i,extras:c};return u.src=`./Assets/plant-${t}.png`,g.src=`./Assets/pots/${m.pot}.png`,y.src=`./Assets/soil-${i}.png`,E.src=c?`./Assets/${c}.png`:"",p.notifyObservers(m),m}I.forEach((e=>{e.addEventListener("change",(e=>{const t=e.target.value;S=t,C()}))})),document.querySelectorAll('input[name="pot-color"]').forEach((e=>{e.addEventListener("change",(e=>{e.target.value}))})),o.addEventListener("change",C),s.addEventListener("change",C),h.addEventListener("click",(()=>{const e=C();localStorage.setItem("productPlants",JSON.stringify(e)),window.location.href="product.html"}))})();